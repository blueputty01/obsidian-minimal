/* Dataview plugin */

/* inline lists */

.dataview-inline-lists .dataview-ul {
	--list-spacing: 0;
	li:not(:last-child):after,
	li:not(:last-child):after {
		content: ", ";
	}
	> li::before,
	> li::before {
		display: none;
	}
	li,
	li {
		display: inline-block;
		padding-right: 0.25em;
	}
}

body .table-view-table > thead > tr > th,
.markdown-preview-view .table-view-table > thead > tr > th {
	font-weight: 400;
	font-size: var(--table-text-size);
	color: var(--text-muted);
	border-bottom: var(--table-border-width) solid var(--table-border-color);
	cursor: var(--cursor);
}
table.dataview ul.dataview-ul {
	list-style: none;
	padding-inline-start: 0;
	margin-block-start: 0em !important;
	margin-block-end: 0em !important;
}
.markdown-source-view.mod-cm6:not(.cards) .table-view-table > tbody > tr > td,
.markdown-preview-view:not(.cards) .table-view-table > tbody > tr > td {
	max-width: var(--max-col-width);
}

body .dataview.small-text {
	color: var(--text-faint);
}

/* Remove hover effect */
body:not(.row-hover) {
	.dataview.task-list-item:hover,
	.dataview.task-list-basic-item:hover,
	.table-view-table > tbody > tr:hover {
		// background-color: transparent !important;
		// breaks alt
		box-shadow: none;
	}
}
body.row-hover {
	.dataview.task-list-item:hover,
	.dataview.task-list-basic-item:hover,
	.table-view-table > tbody > tr:hover {
		background-color: var(--table-row-background-hover) !important;
	}
}

body .dataview-error {
	background-color: transparent;
}
.markdown-source-view.mod-cm6 .cm-content .dataview.dataview-error,
.dataview.dataview-error {
	color: var(--text-muted);
}

body div.dataview-error-box {
	min-height: 0;
	border: none;
	background-color: transparent;
	font-size: var(--table-text-size);
	border-radius: var(--radius-m);
	padding: 15px 0;
	justify-content: flex-start;
	p {
		margin-block-start: 0;
		margin-block-end: 0;
		color: var(--text-faint);
	}
}

.block-language-dataviewjs:has(.dataview-error-box) table.dataview {
	display: none;
}

/* Trim columns feature */
.trim-cols .markdown-source-view.mod-cm6 .table-view-table > tbody > tr > td,
.trim-cols .markdown-preview-view .table-view-table > tbody > tr > td,
.trim-cols .markdown-source-view.mod-cm6 .table-view-table > thead > tr > th {
	white-space: nowrap;
	text-overflow: ellipsis;
	overflow: hidden;
}

/* Lists */
ul .dataview .task-list-item:hover,
ul .dataview .task-list-basic-item:hover {
	background-color: transparent;
	box-shadow: none;
}
body .dataview.result-group {
	padding-left: 0;
}

/* Inline fields */
body .dataview.inline-field-key,
body .dataview.inline-field-value,
body .dataview .inline-field-standalone-value {
	font-family: var(--font-text);
	font-size: calc(var(--font-adaptive-normal) - 2px);
	background: transparent;
	color: var(--text-muted);
}
body .dataview.inline-field-key {
	padding: 0;
}
body .dataview .inline-field-standalone-value {
	padding: 0;
}
body .dataview.inline-field-key::after {
	margin-left: 3px;
	content: "|";
	color: var(--background-modifier-border);
}
body .dataview.inline-field-value {
	padding: 0 1px 0 3px;
}

/* Calendar */
.markdown-preview-view .block-language-dataview table.calendar th {
	border: none;
	cursor: default;
	background-image: none;
}
.markdown-preview-view .block-language-dataview table.calendar .day {
	font-size: var(--font-adaptive-small);
}

.action-view tbody > tr > td:first-child {
	width: 100%;
}

.action-view tbody > tr > td:not(:first-child) {
	min-width: 2rem;
}

// project
.action-view tbody > tr > td:nth-last-child(6) {
	min-width: 7rem;
}

// date
.action-view tbody > tr > td:nth-last-child(4) {
	min-width: 8rem;
}

// context
.action-view tbody > tr > td:nth-last-child(3) {
	min-width: 5rem;
}
